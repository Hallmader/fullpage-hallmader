!function(t){var i=function(){var i=function(i,s){this.settings=t.extend(!0,t.fn.Fullpage.settings,s),this.element=i,this.init()};return i.prototype={init:function(){this.sectionBox=this.element.find(this.settings.sectionBox),this.section=this.element.find(this.settings.section),this.direction=this.settings.direction,this.pageCounts=this.getPages(),this.index=this.settings.index>0&&this.settings.index<this.pageCounts?this.settings.index:0,this.canScroll=!0,"horizontal"===this.settings.direction&&this.initHorizontal(),this.settings.hasCtrlBtn&&this.initCtrlBtn(),this.initEvent(),this.section.eq(this.index).addClass("on").siblings(".section").removeClass("on")},getPages:function(){return this.section.size()},initHorizontal:function(){var t=100*this.pageCounts+"%",i=(100/this.pageCounts).toFixed(2)+"%";this.sectionBox.width(t),this.section.width(i).addClass("left")},initEvent:function(){var i=this;this.ctrlBtn.on("click",function(){i.index=t(this).index(),i.scrollPage()}),this.element.on("mousewheel DOMMouseScroll",function(t){var s=t.originalEvent.wheelDelta||-t.originalEvent.detail;s>0&&(0!==i.index&&!i.settings.loop||i.settings.loop)?i.prevPage():0>s&&(i.index<i.pageCounts-1&&!i.settings.loop||i.settings.loop)&&i.nextPage()}),this.sectionBox.on("webkitTransitionEnd transitionend",function(){i.settings.callback&&"function"===t.type(i.settings.callback)&&i.settings.callback(),i.canScroll=!0}),this.settings.keyboard&&t(window).on("keydown",function(t){var s=t.keyCode;37===s||38===s?i.prevPage():(39===s||40===s)&&i.nextPage()}),t(window).resize(function(){0!==i.index&&i.scrollPage()})},prevPage:function(){this.canScroll&&(this.index>0?this.index--:this.settings.loop&&(this.index=this.pageCounts-1)),this.scrollPage()},nextPage:function(){this.canScroll&&(this.index<this.pageCounts-1?this.index++:this.settings.loop&&(this.index=0)),this.scrollPage()},scrollPage:function(){this.canScroll=!1;var t=this.section.eq(this.index).position();if(t){this.sectionBox.css("transition","all "+this.settings.duration+"ms "+this.settings.easing);var i="vertical"===this.settings.direction?"translateY(-"+t.top+"px)":"translateX(-"+t.left+"px)";this.sectionBox.css("transform",i),this.section.eq(this.index).addClass("on").siblings(".section").removeClass("on"),this.settings.hasCtrlBtn&&this.ctrlBtn.eq(this.index).addClass(this.activeCls).siblings("li").removeClass(this.activeCls)}},initCtrlBtn:function(){var t=this.settings.ctrlBtnBox.substring(1),i="<ul class="+t+">";this.activeCls=this.settings.activeBtnCls.substring(1);for(var s=0;s<this.pageCounts;s++)i+="<li></li>";i+="</ul>",this.element.append(i),this.ctrlBtnBox=this.element.find("ul"+this.settings.ctrlBtnBox),this.ctrlBtn=this.ctrlBtnBox.find("li"),this.ctrlBtn.eq(this.index).addClass(this.activeCls),"vertical"===this.direction?this.ctrlBtnBox.addClass("verticalBtn"):"horizontal"===this.direction&&this.ctrlBtnBox.addClass("horizontalBtn")}},i}();t.fn.Fullpage=function(s){return this.each(function(){var n=t(this).data("fullpage");return n||(n=new i(t(this),s),t(this).data("fullpage",n)),n})},t.fn.Fullpage.settings={sectionBox:".section-box",section:".section",ctrlBtnBox:".btnBox",activeBtnCls:".active",index:0,easing:"ease-in-out",duration:1e3,loop:!1,hasCtrlBtn:!0,keyboard:!0,direction:"vertical",callback:""}}(jQuery);